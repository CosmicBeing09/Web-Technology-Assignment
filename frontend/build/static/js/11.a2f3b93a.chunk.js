(this.webpackJsonpbackend=this.webpackJsonpbackend||[]).push([[11],{469:function(e,t,a){},496:function(e,t,a){"use strict";a.r(t);var n=a(212),o=a(74),l=a.n(o),r=a(79),s=a(25),i=a(26),c=a(28),u=a(27),d=a(32),h=a(29),p=a(1),g=a.n(p),m=a(315),f=a.n(m),v=a(316),b=a.n(v),E=function(){function e(t,a){Object(s.a)(this,e),this.loader=t,this.url=a}return Object(i.a)(e,[{key:"upload",value:function(){var e=this;return new Promise((function(t,a){e._initRequest(),e._initListeners(t,a),e._sendRequest()}))}},{key:"abort",value:function(){this.xhr&&this.xhr.abort()}},{key:"_initRequest",value:function(){var e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.open("POST","http://localhost:8081/uploadFile",!0),e.responseType="json"}},{key:"_initListeners",value:function(e,t){var a=this.xhr,n=this.loader,o="Couldn't upload file:"+" ".concat(n.file.name,".");a.addEventListener("error",(function(){return t(o)})),a.addEventListener("abort",(function(){return t()})),a.addEventListener("load",(function(){var n=a.response;if(console.log(n),!n||n.error)return t(n&&n.error?n.error.message:o);e({default:n.url})})),a.upload&&a.upload.addEventListener("progress",(function(e){e.lengthComputable&&(n.uploadTotal=e.total,n.uploaded=e.loaded)}))}},{key:"_sendRequest",value:function(){var e=this;this.loader.file.then((function(t){var a=new FormData;a.append("file",t),e.xhr.send(a)}))}}]),e}(),O=a(334),y=a.n(O),k=(a(472),a(216)),w=a(217),S=a(490),C=a(478),j=a(221),x=a(59),D=a(491),L=a(492),T=a(493),V=(a(336),a(469),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={isLoading:!0,data:[],description:null,body:null,user:null,tags:null,ageLimit:null,title:null,temp:null,dropDownValue:"Select One",dropdownOpen:!1},a.postData=a.postData.bind(Object(d.a)(a)),a.changeValue=a.changeValue.bind(Object(d.a)(a)),a.toggle=a.toggle.bind(Object(d.a)(a)),a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleChangeMuliSelect=a.handleChangeMuliSelect.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"toggle",value:function(){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"changeValue",value:function(e){this.setState({dropDownValue:e.currentTarget.textContent,dropdownOpen:!this.state.dropdownOpen})}},{key:"handleChange",value:function(e){var t=e.target,a=t.value;t.name;this.setState({title:a})}},{key:"componentDidMount",value:function(){var e=Object(r.a)(l.a.mark((function e(){var t,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8081/getAllTags").then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){return{name:e.name,value:e.name}}));a.setState({data:t});var n=e;a.setState({temp:n})}));case 2:t=JSON.parse(localStorage.getItem("user")),this.setState({user:t}),console.log(t.userid);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"postData",value:function(){var e=Object(r.a)(l.a.mark((function e(t){var a,o,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state.description,(o=new FormData).append("post",new Blob([JSON.stringify({body:a,title:this.state.title,ageLimit:this.state.dropDownValue,taging:Object(n.a)(this.state.tags)})],{type:"application/json",processData:!1,contentType:!1,cache:!1})),r=this.state.user,e.next=6,fetch("http://localhost:8081/blog/create?userID="+r.userid,{method:"POST",body:o}).then();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleChangeMuliSelect",value:function(e){var t=this.state.temp.filter((function(t){return e.includes(t.name)}));console.log(t),this.setState({tags:t}),console.log(this.state.tags)}},{key:"render",value:function(){var e=this;return g.a.createElement("div",{className:"animated fadeIn"},g.a.createElement(k.a,null,g.a.createElement(w.a,{xs:"12"},g.a.createElement("h5",null,"Give a title: "),g.a.createElement(S.a,null,g.a.createElement(C.a,{type:"text",id:"Title",placeholder:"Write Your Title",onChange:this.handleChange,required:!0})))),g.a.createElement(k.a,null,g.a.createElement(w.a,{xs:"12"},g.a.createElement("h5",null,"Select a category: "),g.a.createElement(y.a,{options:this.state.data,onSelectOptions:this.handleChangeMuliSelect}))),g.a.createElement(k.a,null,g.a.createElement(w.a,{xs:"12"},g.a.createElement("h5",null,"Slect suitable time-span for the post: "),g.a.createElement(x.a,{className:"hover-drop",isOpen:this.state.dropdownOpen[3],toggle:function(){e.toggle(3)}},g.a.createElement(D.a,{caret:!0,tag:"span",onClick:function(){e.toggle(0)},"data-toggle":"dropdown","aria-expanded":this.state.dropdownOpen[3]},this.state.dropDownValue),g.a.createElement(L.a,null,g.a.createElement(T.a,{className:"drop-item",onClick:this.changeValue},"1-10 Weeks"),g.a.createElement(T.a,{className:"drop-item",onClick:this.changeValue},"11-20 Weeks"),g.a.createElement(T.a,{className:"drop-item",onClick:this.changeValue},"21-30 Weeks "))))),g.a.createElement("h5",null,"Write your post here: "),g.a.createElement(f.a,{editor:b.a,data:"<p>Start here...!</p>",onInit:function(e){e.plugins.get("FileRepository").createUploadAdapter=function(e){return new E(e,"http://localhost:8081/uploadFile")},console.log("Editor is ready to use!",e)},onChange:function(t,a){var n=a.getData(),o=a.getData();e.setState({description:o}),console.log({event:t,editor:a,data:n})},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}}),g.a.createElement("div",{style:{margin:"10px"}},g.a.createElement(k.a,null,g.a.createElement(w.a,{sm:"16",md:{size:6,offset:4}},g.a.createElement(j.a,{color:"primary",className:"px-4",onClick:this.postData},"Post")))))}}]),t}(p.Component));t.default=V}}]);
//# sourceMappingURL=11.a2f3b93a.chunk.js.map